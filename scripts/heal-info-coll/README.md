## 使用说明

### 第三方库依赖

- `requests`

### 运行方式

安装好所有依赖，运行脚本，根据提示输入学号密码时间即可。打卡成功会返回一个json，里面包含打卡的时间、体温等参数。脚本的使用需要之前有过打卡记录，且各数据（除了打卡时间）皆来自上一次打卡。每天的打卡数据只可以保存一个。

### 其他

由于打卡的登录方式不需要验证码，因此理论上可以暴力破解给定学号的密码。访问网站时可能出现抖动，会导致脚本卡在某个猜想的密码上很久。为此可以给`get`函数设置`timeout`参数，例如`0.5`，这样它在0.5s内若没有访问到数据则会直接结束访问；同时，在外面写逻辑循环尝试这个猜想的密码即可加快破解速度。

以上只是指明该系统的漏洞，请勿用于不当用途。破解密码以后，该生的住址、身份证号、电话号等信息都会暴露，希望学校早日改进该系统。

## 更新说明

### 2020/09/01

学校改进了系统，但并没有解决我上面提到的问题。

目前打卡的逻辑是，先登录一个通用的“大系统”，获取`LOGIN_TOKEN`、`CAS_TICKET`等cookie；然后再用这些cookie登录师生网上事务中心，获取一个`JSESSIONID`，猜测后端就是通过它来查找某session是否处于登录状态。访问打卡网页的各逻辑和以前一样，只是入口不再使用之前的`iPlanetDirectoryPro`而是上述`JSESSIONID`。